<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MelodiJS - The Progressive JavaScript Framework</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --vt-c-white: #ffffff;
      --vt-c-white-soft: #f8f8f8;
      --vt-c-white-mute: #f2f2f2;

      --vt-c-black: #181818;
      --vt-c-black-soft: #222222;
      --vt-c-black-mute: #282828;

      --vt-c-indigo: #2c3e50;

      --vt-c-divider-light-1: rgba(60, 60, 60, 0.29);
      --vt-c-divider-light-2: rgba(60, 60, 60, 0.12);
      --vt-c-divider-dark-1: rgba(84, 84, 84, 0.65);
      --vt-c-divider-dark-2: rgba(84, 84, 84, 0.48);

      --vt-c-text-light-1: #2c3e50;
      --vt-c-text-light-2: #476582;
      --vt-c-text-dark-1: rgba(255, 255, 255, 0.87);
      --vt-c-text-dark-2: rgba(235, 235, 235, 0.6);

      --brand-color: #2a3886;
      --brand-color-light: #2a3886;
      --brand-color-dark: #2a3886;

      /* Semantic Colors */
      --color-background: var(--vt-c-white);
      --color-background-soft: var(--vt-c-white-soft);
      --color-background-mute: var(--vt-c-white-mute);
      --color-border: var(--vt-c-divider-light-2);
      --color-border-hover: var(--vt-c-divider-light-1);
      --color-heading: var(--vt-c-text-light-1);
      --color-text: var(--vt-c-text-light-1);
      --color-text-light: var(--vt-c-text-light-2);
      --section-gap: 160px;

      --code-bg: #f8f8f8;
      --code-text: #2c3e50;
    }

    [data-theme="dark"] {
      --color-background: var(--vt-c-black);
      --color-background-soft: var(--vt-c-black-soft);
      --color-background-mute: var(--vt-c-black-mute);
      --color-border: var(--vt-c-divider-dark-2);
      --color-border-hover: var(--vt-c-divider-dark-1);
      --color-heading: var(--vt-c-text-dark-1);
      --color-text: var(--vt-c-text-dark-2);
      --color-text-light: var(--vt-c-text-dark-2);

      --code-bg: #1e1e1e;
      --code-text: #d4d4d4;
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      position: relative;
      font-weight: normal;
    }

    body {
      min-height: 100vh;
      color: var(--color-text);
      background: var(--color-background);
      transition: color 0.5s, background-color 0.5s;
      line-height: 1.6;
      font-family: 'Inter', sans-serif;
      font-size: 16px;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
    }

    /* Layout */
    .app-layout {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* Header */
    header {
      position: fixed;
      top: 0;
      width: 100%;
      height: 60px;
      padding: 0 32px;
      background-color: var(--color-background);
      border-bottom: 1px solid var(--color-border);
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: border-color 0.5s, background-color 0.5s;
    }

    .logo {
      font-weight: 600;
      font-size: 1.3rem;
      color: var(--color-heading);
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
    }

    .logo span {
      color: var(--brand-color);
    }

    .theme-toggle {
      background: none;
      border: 1px solid var(--color-border);
      color: var(--color-text);
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.2s;
    }

    .theme-toggle:hover {
      border-color: var(--brand-color);
      color: var(--brand-color);
    }

    /* Sidebar */
    .sidebar {
      position: fixed;
      top: 60px;
      bottom: 0;
      left: 0;
      width: 280px;
      padding: 32px;
      overflow-y: auto;
      border-right: 1px solid var(--color-border);
      background-color: var(--color-background);
      transition: transform 0.3s, background-color 0.5s, border-color 0.5s;
      z-index: 10;
    }

    .sidebar-group {
      margin-bottom: 24px;
    }

    .sidebar-heading {
      font-weight: 700;
      color: var(--color-heading);
      margin-bottom: 8px;
      font-size: 1.1rem;
    }

    .sidebar-link {
      display: block;
      padding: 6px 0;
      color: var(--color-text-light);
      text-decoration: none;
      transition: color 0.2s;
      font-size: 0.95rem;
    }

    .sidebar-link:hover,
    .sidebar-link.active {
      color: var(--brand-color);
    }

    /* Main Content */
    main {
      margin-top: 60px;
      margin-left: 280px;
      padding: 64px;
      max-width: 960px;
    }

    section {
      margin-bottom: 64px;
      scroll-margin-top: 80px;
    }

    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 24px;
      line-height: 1.2;
      color: var(--color-heading);
    }

    h2 {
      font-size: 1.8rem;
      font-weight: 600;
      margin: 48px 0 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--color-border);
      color: var(--color-heading);
    }

    h3 {
      font-size: 1.4rem;
      font-weight: 600;
      margin: 32px 0 16px;
      color: var(--color-heading);
    }

    h4 {
      font-size: 1.1rem;
      font-weight: 600;
      margin: 24px 0 12px;
      color: var(--color-heading);
    }

    p {
      margin-bottom: 16px;
      line-height: 1.7;
    }

    ul {
      margin-bottom: 16px;
      padding-left: 24px;
    }

    li {
      margin-bottom: 8px;
    }

    a {
      color: var(--brand-color);
      text-decoration: none;
      font-weight: 500;
    }

    a:hover {
      text-decoration: underline;
    }

    /* Code Blocks */
    pre {
      background-color: var(--code-bg);
      color: var(--code-text);
      padding: 20px 24px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 24px 0;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      border: 1px solid var(--color-border);
    }

    code {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85em;
      background-color: var(--color-background-mute);
      padding: 3px 6px;
      border-radius: 4px;
      color: var(--color-heading);
    }

    pre code {
      background-color: transparent;
      padding: 0;
      color: inherit;
      font-size: 1em;
    }

    .tip,
    .warning {
      padding: 20px 24px;
      border-radius: 8px;
      margin: 24px 0;
      border-left: 4px solid;
    }

    .tip {
      background-color: var(--color-background-soft);
      border-color: var(--brand-color);
    }

    .warning {
      background-color: rgba(234, 179, 8, 0.1);
      border-color: #eab308;
      color: var(--color-heading);
    }

    .warning strong {
      color: #eab308;
    }

    /* Mobile */
    @media (max-width: 960px) {
      .sidebar {
        transform: translateX(-100%);
        box-shadow: 4px 0 10px rgba(0, 0, 0, 0.1);
      }

      .sidebar.open {
        transform: translateX(0);
      }

      main {
        margin-left: 0;
        padding: 32px 24px;
      }

      .menu-toggle {
        display: block;
      }
    }

    .menu-toggle {
      display: none;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--color-text);
      cursor: pointer;
      margin-right: 16px;
    }

    @media (min-width: 961px) {
      .menu-toggle {
        display: none;
      }
    }
  </style>
</head>

<body>
  <div class="app-layout">
    <header>
      <div style="display: flex; align-items: center;">
        <button class="menu-toggle" id="menuToggle">â˜°</button>
        <a href="#" class="logo">ðŸŽµ <span>MelodiJS</span></a>
      </div>
      <button class="theme-toggle" id="themeToggle">Appearance</button>
    </header>

    <aside class="sidebar" id="sidebar">
      <div class="sidebar-group">
        <div class="sidebar-heading">Getting Started</div>
        <a href="#introduction" class="sidebar-link">Introduction</a>
        <a href="#quick-start" class="sidebar-link">Quick Start</a>
      </div>
      <div class="sidebar-group">
        <div class="sidebar-heading">Essentials</div>
        <a href="#template-syntax" class="sidebar-link">Template Syntax</a>
        <a href="#reactivity" class="sidebar-link">Reactivity Fundamentals</a>
        <a href="#computed" class="sidebar-link">Computed Properties</a>
        <a href="#class-and-style" class="sidebar-link">Class & Style Bindings</a>
        <a href="#conditional" class="sidebar-link">Conditional Rendering</a>
        <a href="#list" class="sidebar-link">List Rendering</a>
        <a href="#events" class="sidebar-link">Event Handling</a>
        <a href="#forms" class="sidebar-link">Form Input Bindings</a>
      </div>
      <div class="sidebar-group">
        <div class="sidebar-heading">Components</div>
        <a href="#components-basics" class="sidebar-link">Basics</a>
        <a href="#props" class="sidebar-link">Props</a>
        <a href="#component-events" class="sidebar-link">Events ($emit)</a>
        <a href="#slots" class="sidebar-link">Slots</a>
      </div>
      <div class="sidebar-group">
        <div class="sidebar-heading">Advanced</div>
        <a href="#lifecycle" class="sidebar-link">Lifecycle Hooks</a>
        <a href="#store" class="sidebar-link">State Management</a>
      </div>
    </aside>

    <main>
      <section id="introduction">
        <h1>Introduction</h1>
        <p>MelodiJS is a progressive, ultra-lightweight JavaScript framework for building user interfaces. It combines
          the intuitive Options API of Vue.js with a fine-grained reactivity system inspired by SolidJS.</p>

        <div class="tip">
          <strong>Why MelodiJS?</strong>
          <ul>
            <li><strong>No Virtual DOM:</strong> Updates are surgical and target exact DOM nodes.</li>
            <li><strong>Tiny Footprint:</strong> ~3KB gzipped.</li>
            <li><strong>Familiar API:</strong> If you know Vue, you know MelodiJS.</li>
          </ul>
        </div>
      </section>

      <section id="quick-start">
        <h2>Quick Start</h2>
        <p>You can use MelodiJS directly via CDN or install it via NPM.</p>

        <h3>Via CDN (ES Modules)</h3>
        <pre><code>&lt;script type="module"&gt;
  import { createApp } from 'https://unpkg.com/melodijs';

  createApp({
    data() {
      return {
        message: 'Hello Melodi!'
      }
    }
  }).mount('#app')
&lt;/script&gt;</code></pre>

        <h3>Via NPM</h3>
        <pre><code>npm install melodijs</code></pre>
      </section>

      <section id="template-syntax">
        <h2>Template Syntax</h2>
        <p>MelodiJS uses an HTML-based template syntax that allows you to declaratively bind the rendered DOM to the
          underlying component instance's data.</p>

        <h3>Text Interpolation</h3>
        <p>The most basic form of data binding is text interpolation using the "Mustache" syntax (double curly braces):
        </p>
        <pre><code>&lt;span&gt;Message: {{ msg }}&lt;/span&gt;</code></pre>

        <h3>Raw HTML</h3>
        <p>MelodiJS escapes HTML by default. To render raw HTML, you would typically use a directive (not yet
          implemented in core, use standard DOM manipulation in hooks if needed).</p>

        <h3>Attribute Binding</h3>
        <p>Mustaches cannot be used inside HTML attributes. Instead, use a <code>v-bind</code> directive:</p>
        <pre><code>&lt;div v-bind:id="dynamicId"&gt;&lt;/div&gt;</code></pre>
        <p>Shorthand:</p>
        <pre><code>&lt;div :id="dynamicId"&gt;&lt;/div&gt;</code></pre>
      </section>

      <section id="reactivity">
        <h2>Reactivity Fundamentals</h2>
        <p>We declare reactive state using the <code>data</code> option. It should be a function that returns an object.
        </p>
        <pre><code>export default {
  data() {
    return {
      count: 1
    }
  },
  methods: {
    increment() {
      this.count++ // Updates the DOM automatically
    }
  }
}</code></pre>
      </section>

      <section id="computed">
        <h2>Computed Properties</h2>
        <p>For complex logic that includes reactive data, it is recommended to use a <strong>computed property</strong>.
        </p>
        <pre><code>export default {
  data() {
    return {
      author: {
        name: 'John Doe',
        books: ['Vue 2 - Advanced Guide', 'Vue 3 - Basic Guide']
      }
    }
  },
  computed: {
    publishedBooksMessage() {
      // `this` points to the component instance
      return this.author.books.length > 0 ? 'Yes' : 'No'
    }
  }
}</code></pre>
        <p>Computed properties are cached based on their reactive dependencies. A computed property will only
          re-evaluate when some of its reactive dependencies have changed.</p>
      </section>

      <section id="class-and-style">
        <h2>Class & Style Bindings</h2>
        <p>A common need for data binding is manipulating an element's class list and inline styles. MelodiJS provides
          special enhancements for <code>class</code> and <code>style</code> when used with <code>v-bind</code>.</p>

        <h3>Binding HTML Classes</h3>
        <p>We can pass an object to <code>:class</code> to dynamically toggle classes:</p>
        <pre><code>&lt;div :class="{ active: isActive, 'text-danger': hasError }"&gt;&lt;/div&gt;</code></pre>
      </section>

      <section id="conditional">
        <h2>Conditional Rendering</h2>

        <h3>v-if</h3>
        <p>The directive <code>v-if</code> is used to conditionally render a block. The block will only be rendered if
          the directive's expression returns a truthy value.</p>
        <pre><code>&lt;h1 v-if="awesome"&gt;MelodiJS is awesome!&lt;/h1&gt;</code></pre>

        <h3>v-show</h3>
        <p>Another option for conditionally displaying an element is <code>v-show</code>. The usage is largely the same:
        </p>
        <pre><code>&lt;h1 v-show="ok"&gt;Hello!&lt;/h1&gt;</code></pre>
        <p>The difference is that an element with <code>v-show</code> will always be rendered and remain in the DOM;
          <code>v-show</code> only toggles the <code>display</code> CSS property of the element.
        </p>
      </section>

      <section id="list">
        <h2>List Rendering</h2>
        <p>We can use the <code>v-for</code> directive to render a list of items based on an array.</p>

        <pre><code>&lt;ul&gt;
  &lt;li v-for="item in items" :key="item.id"&gt;
    {{ item.message }}
  &lt;/li&gt;
&lt;/ul&gt;</code></pre>

        <div class="warning">
          <strong>Key Attribute</strong><br>
          It is highly recommended to provide a unique <code>:key</code> attribute for each item. This allows MelodiJS
          to reuse and reorder existing DOM elements, significantly improving performance.
        </div>
      </section>

      <section id="events">
        <h2>Event Handling</h2>
        <p>We can use the <code>v-on</code> directive, which we typically shorten to the <code>@</code> symbol, to
          listen to DOM events and run some JavaScript when they're triggered.</p>

        <h3>Inline Handlers</h3>
        <pre><code>&lt;button @click="count++"&gt;Add 1&lt;/button&gt;</code></pre>

        <h3>Method Handlers</h3>
        <pre><code>&lt;button @click="greet"&gt;Greet&lt;/button&gt;</code></pre>
      </section>

      <section id="forms">
        <h2>Form Input Bindings</h2>
        <p>You can use the <code>v-model</code> directive to create two-way data bindings on form input, textarea, and
          select elements.</p>

        <pre><code>&lt;input v-model="message" placeholder="edit me" /&gt;
&lt;p&gt;Message is: {{ message }}&lt;/p&gt;

&lt;input type="checkbox" id="checkbox" v-model="checked" /&gt;
&lt;label for="checkbox"&gt;{{ checked }}&lt;/label&gt;</code></pre>
      </section>

      <section id="components-basics">
        <h2>Component Basics</h2>
        <p>Components allow us to split the UI into independent and reusable pieces.</p>

        <pre><code>createApp({
  components: {
    'button-counter': {
      data() {
        return { count: 0 }
      },
      template: `
        &lt;button @click="count++"&gt;
          You clicked me {{ count }} times.
        &lt;/button&gt;`
    }
  }
})</code></pre>
      </section>

      <section id="props">
        <h2>Props</h2>
        <p>Props are custom attributes you can register on a component. When a value is passed to a prop attribute, it
          becomes a property on that component instance.</p>

        <pre><code>// Child
props: ['title'],
template: '&lt;h4&gt;{{ title }}&lt;/h4&gt;'

// Parent
&lt;blog-post title="My journey with Melodi"&gt;&lt;/blog-post&gt;</code></pre>
      </section>

      <section id="component-events">
        <h2>Component Events</h2>
        <p>A component can emit custom events directly to the parent using the built-in <code>$emit</code> method.</p>

        <pre><code>// Child
methods: {
  submit() {
    this.$emit('submit', this.formData)
  }
}

// Parent
&lt;my-form @submit="handleSubmit"&gt;&lt;/my-form&gt;</code></pre>
      </section>

      <section id="slots">
        <h2>Slots</h2>
        <p>MelodiJS supports content distribution API inspired by the Web Components spec, using the
          <code>&lt;slot&gt;</code> element to serve as distribution outlets for content.
        </p>

        <pre><code>// NavigationLink component template
&lt;a :href="url" class="nav-link"&gt;
  &lt;slot&gt;&lt;/slot&gt;
&lt;/a&gt;

// Usage
&lt;navigation-link url="/profile"&gt;
  Your Profile
&lt;/navigation-link&gt;</code></pre>
      </section>

      <section id="lifecycle">
        <h2>Lifecycle Hooks</h2>
        <p>Each component instance goes through a series of initialization steps when it's created. Along the way, it
          runs functions called lifecycle hooks.</p>

        <ul>
          <li><code>beforeMount</code>: Called right before the mounting begins.</li>
          <li><code>mounted</code>: Called after the component has been mounted.</li>
          <li><code>unmounted</code>: Called after the component has been unmounted.</li>
        </ul>

        <pre><code>mounted() {
  console.log(`the component is now mounted.`)
}</code></pre>
      </section>

      <section id="store">
        <h2>State Management</h2>
        <p>MelodiJS includes a simple, lightweight global store for managing state across components.</p>

        <pre><code>const app = createApp({
  store: {
    user: { name: 'Alice' }
  }
})

// In any component:
this.$store.user.name = 'Bob' // Reactive update!</code></pre>
      </section>

    </main>
  </div>

  <script>
    // Theme Toggle Logic
    const themeToggle = document.getElementById('themeToggle');
    const html = document.documentElement;

    // Check local storage or system preference
    const savedTheme = localStorage.getItem('theme');
    const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

    if (savedTheme) {
      html.setAttribute('data-theme', savedTheme);
    } else if (systemDark) {
      html.setAttribute('data-theme', 'dark');
    }

    themeToggle.addEventListener('click', () => {
      const current = html.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
    });

    // Mobile Menu Logic
    const menuToggle = document.getElementById('menuToggle');
    const sidebar = document.getElementById('sidebar');

    menuToggle.addEventListener('click', () => {
      sidebar.classList.toggle('open');
    });

    // Close sidebar when clicking a link on mobile
    document.querySelectorAll('.sidebar-link').forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth <= 960) {
          sidebar.classList.remove('open');
        }
      });
    });

    // Active Link Highlighting
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const id = entry.target.getAttribute('id');
          document.querySelectorAll('.sidebar-link').forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === '#' + id) {
              link.classList.add('active');
            }
          });
        }
      });
    }, { threshold: 0.5 });

    document.querySelectorAll('section').forEach(section => {
      observer.observe(section);
    });
  </script>
</body>

</html>